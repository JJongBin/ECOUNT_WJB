(()=>{"use strict";const n=new(function(){function n(){if(n._instance)return n._instance;this._controls={},n._instance=this}return n.prototype.addControl=function(e){n._instance._controls[e.id]=e},n.prototype.getControl=function(e){return n._instance._controls[e]},n.prototype.removeControl=function(e){delete n._instance._controls[e]},n}());function e(e){return function(){var t=e.apply(null,arguments);return t.dispose=function(){t.elem.remove(),n.removeControl(t.id),t.elem.children.forEach((function(n){return n.dispose()}))},n.addControl(t),t}}var t=e((function(n){var e=document.createElement("button");return e.id=n.id,e.textContent=n.label,e.onclick=n.onClick,{id:n.id,elem:e}})),o=e((function(n){var e=document.createElement("div");return n.parent.append(e),{id:n.id,elem:e,append:function(n){return e.append(n.elem)}}})),r=e((function(n){var e=document.createElement("ul");e.style.listStyle="none",e.style.padding="0",e.id=n.id;var t=[];return o(n.datas,n.columns),{id:n.id,elem:e,reload:function(t){e.innerHTML="",o(t,n.columns)}};function o(n,o){e.innerHTML="",t.forEach((function(n){n.dispose&&n.dispose()})),t.length=0,n.forEach((function(n){var t=document.createElement("li");o.forEach((function(e){var o=e.render(n);t.append(o)})),e.append(t)}))}}));const i={button:t,list:r,div:o,input:e((function(n){var e=document.createElement("input");return e.type=n.type||"text",n.checked&&(e.checked=n.checked),n.onChange&&e.addEventListener("change",(function(e){n.onChange&&n.onChange(e)})),{id:n.id,elem:e,getValue:function(){return e.value},focus:function(){return e.focus()},valueReset:function(){e.value=""}}})),span:e((function(n){var e=document.createElement("span");return e.textContent=n.content,{id:n.id,elem:e}})),h2:e((function(n){var e=document.createElement("h2");return e.id=n.id,e.textContent=n.content,{id:n.id,elem:e}})),getControl:n.getControl};var d=[];function c(){i.getControl("todoList").reload(u({done:!1})),i.getControl("doneList").reload(u({done:!0}))}function u(n){return d.filter((function(e){return e.done===n.done}))}function a(n){return i.input({type:"checkBox",checked:n.done,onChange:function(e){e.target instanceof HTMLInputElement&&(n.done=e.target.checked,c())}}).elem}function l(n){return i.span({content:n.content}).elem}function s(n){return i.button({label:"삭제",onClick:function(){d.splice(d.indexOf(n),1),c()}}).elem}var p=document.querySelector("#root"),f=i.div({id:"container",parent:p}),m=i.input({id:"todoInput"}),v=i.button({id:"insertTodoBtn",label:"입력",onClick:function(){var n=i.getControl("todoInput"),e=n.getValue();e?(d.push({id:crypto.randomUUID(),content:e,done:!1}),n.valueReset(),n.focus(),c()):alert("값을 입력해주세요.")}}),h=i.h2({content:"할일"}),C=i.list({id:"todoList",datas:u({done:!1}),columns:[{id:"done",render:a},{id:"todo",render:l},{id:"delete",render:s}]}),g=i.h2({content:"완료"}),E=i.list({id:"doneList",datas:u({done:!0}),columns:[{id:"done",render:a},{id:"todo",render:l},{id:"delete",render:s}]});f.append(m),f.append(v),f.append(h),f.append(C),f.append(g),f.append(E)})();
//# sourceMappingURL=main.js.map